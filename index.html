
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spanish Confidence Builder</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üá™üá∏</text></svg>">
</head>
<body>
    <div id="root">
        <div style="display: flex; justify-content: center; align-items: center; height: 100vh; background: linear-gradient(135deg, #fef3e2, #fef9e7, #fef2f2);">
            <div style="text-align: center;">
                <div style="font-size: 48px; margin-bottom: 16px;">üá™üá∏</div>
                <div style="font-size: 24px; color: #ea580c; font-weight: bold;">Loading Spanish App...</div>
                <div style="font-size: 14px; color: #6b7280; margin-top: 8px;">If this doesn't load, check the browser console (F12)</div>
            </div>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const SpanishLearningApp = () => {
          const [currentActivity, setCurrentActivity] = useState('home');
          const [score, setScore] = useState(0);
          const [streak, setStreak] = useState(0);
          const [selectedScenario, setSelectedScenario] = useState(null);
          const [currentPhrase, setCurrentPhrase] = useState(0);
          const [showTranslation, setShowTranslation] = useState(false);
          const [completedPhrases, setCompletedPhrases] = useState(new Set());
          const [currentQuiz, setCurrentQuiz] = useState(null);
          const [selectedAnswer, setSelectedAnswer] = useState(null);
          const [showQuizResult, setShowQuizResult] = useState(false);
          const [audioSupported, setAudioSupported] = useState(false);

          useEffect(() => {
            setAudioSupported('speechSynthesis' in window);
          }, []);

          const scenarios = [
            {
              id: 1,
              title: "En el Caf√©",
              icon: "‚òï",
              difficulty: "Beginner",
              phrases: [
                { spanish: "¬°Hola! ¬øQu√© tal?", english: "Hello! How are you?", pronunciation: "OH-lah keh tahl" },
                { spanish: "Un caf√© con leche, por favor", english: "A coffee with milk, please", pronunciation: "oon kah-FEH kon LEH-cheh por fah-VOR" },
                { spanish: "¬øCu√°nto cuesta?", english: "How much does it cost?", pronunciation: "KWAN-toh KWES-tah" },
                { spanish: "Muchas gracias", english: "Thank you very much", pronunciation: "MOO-chahs GRAH-see-ahs" }
              ]
            },
            {
              id: 2,
              title: "Present√°ndose",
              icon: "üëã",
              difficulty: "Beginner",
              phrases: [
                { spanish: "Me llamo Mar√≠a", english: "My name is Mar√≠a", pronunciation: "meh YAH-moh mah-REE-ah" },
                { spanish: "Soy de Estados Unidos", english: "I'm from the United States", pronunciation: "soy deh es-TAH-dohs oo-NEE-dohs" },
                { spanish: "Mucho gusto", english: "Nice to meet you", pronunciation: "MOO-choh GOOS-toh" }
              ]
            }
          ];

          const quizQuestions = [
            {
              question: "How do you say 'Thank you very much' in Spanish?",
              options: ["Muchas gracias", "De nada", "Por favor", "Disculpe"],
              correct: 0
            },
            {
              question: "What does '¬øCu√°nto cuesta?' mean?",
              options: ["What time is it?", "How much does it cost?", "Where is it?", "What is your name?"],
              correct: 1
            }
          ];

          const encouragements = ["¬°Excelente! üåü", "¬°Muy bien! üëè", "¬°Perfecto! ‚≠ê"];

          const playAudio = (text) => {
            if (audioSupported && 'speechSynthesis' in window) {
              speechSynthesis.cancel();
              const utterance = new SpeechSynthesisUtterance(text);
              utterance.lang = 'es-ES';
              utterance.rate = 0.7;
              speechSynthesis.speak(utterance);
            }
          };

          const handlePhraseComplete = () => {
            setCompletedPhrases(prev => new Set([...prev, `${selectedScenario.id}-${currentPhrase}`]));
            setScore(prev => prev + 10);
            setStreak(prev => prev + 1);
            
            if (currentPhrase < selectedScenario.phrases.length - 1) {
              setTimeout(() => {
                setCurrentPhrase(prev => prev + 1);
                setShowTranslation(false);
              }, 1500);
            }
          };

          const startQuiz = () => {
            const randomQuestion = quizQuestions[Math.floor(Math.random() * quizQuestions.length)];
            setCurrentQuiz(randomQuestion);
            setSelectedAnswer(null);
            setShowQuizResult(false);
            setCurrentActivity('quiz');
          };

          const handleQuizAnswer = (answerIndex) => {
            setSelectedAnswer(answerIndex);
            setShowQuizResult(true);
            
            if (answerIndex === currentQuiz.correct) {
              setScore(prev => prev + 20);
              setStreak(prev => prev + 1);
            } else {
              setStreak(0);
            }
          };

          if (currentActivity === 'home') {
            return (
              <div className="min-h-screen bg-gradient-to-br from-orange-50 via-yellow-50 to-red-50 p-6">
                <div className="max-w-4xl mx-auto">
                  <div className="text-center mb-8">
                    <h1 className="text-4xl font-bold text-orange-600 mb-2">¬°Hola! Spanish Practice</h1>
                    <p className="text-gray-600 text-lg">Build confidence through fun activities</p>
                    <div className="flex justify-center gap-6 mt-4">
                      <div className="flex items-center gap-1 text-orange-500">
                        <span className="text-xl">üèÜ</span>
                        <span className="font-semibold">{score} points</span>
                      </div>
                      <div className="flex items-center gap-1 text-purple-500">
                        <span className="text-xl">‚≠ê</span>
                        <span className="font-semibold">{streak} streak</span>
                      </div>
                    </div>
                  </div>

                  <div className="grid md:grid-cols-2 gap-6 mb-8">
                    <div
                      className="bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:scale-105 p-8 text-center"
                      onClick={() => setCurrentActivity('scenarios')}
                    >
                      <div className="text-5xl mb-4">üí¨</div>
                      <h3 className="text-2xl font-bold mb-2">Conversation Practice</h3>
                      <p className="text-blue-100">Practice real-world scenarios</p>
                    </div>
                    
                    <div
                      className="bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:scale-105 p-8 text-center"
                      onClick={startQuiz}
                    >
                      <div className="text-5xl mb-4">üìö</div>
                      <h3 className="text-2xl font-bold mb-2">Quick Quiz</h3>
                      <p className="text-green-100">Test your knowledge</p>
                    </div>
                  </div>

                  <div className="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6">
                    <h3 className="text-xl font-bold text-purple-800 mb-4 text-center">üí° Speaking Confidence Tips</h3>
                    <div className="grid md:grid-cols-2 gap-4 text-purple-700">
                      <div>‚Ä¢ Start with simple phrases and build up</div>
                      <div>‚Ä¢ Practice pronunciation slowly first</div>
                      <div>‚Ä¢ Use hand gestures while speaking</div>
                      <div>‚Ä¢ Don't worry about perfect accent</div>
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          if (currentActivity === 'scenarios' && !selectedScenario) {
            return (
              <div className="min-h-screen bg-gradient-to-br from-orange-50 via-yellow-50 to-red-50 p-6">
                <div className="max-w-4xl mx-auto">
                  <div className="flex items-center justify-between mb-6">
                    <button
                      onClick={() => setCurrentActivity('home')}
                      className="flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors px-4 py-2 rounded-lg bg-white shadow"
                    >
                      ‚Üê Back to activities
                    </button>
                    <h2 className="text-2xl font-bold text-gray-800">Choose Your Scenario</h2>
                    <div></div>
                  </div>

                  <div className="grid md:grid-cols-2 gap-6">
                    {scenarios.map((scenario) => (
                      <div
                        key={scenario.id}
                        className="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:scale-105 p-6 text-center"
                        onClick={() => {
                          setSelectedScenario(scenario);
                          setCurrentPhrase(0);
                          setShowTranslation(false);
                          setCompletedPhrases(new Set());
                        }}
                      >
                        <div className="text-4xl mb-3">{scenario.icon}</div>
                        <h3 className="text-xl font-bold text-gray-800 mb-2">{scenario.title}</h3>
                        <span className="inline-block px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
                          {scenario.difficulty}
                        </span>
                        <p className="text-gray-600 mt-3">{scenario.phrases.length} phrases to practice</p>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            );
          }

          if (selectedScenario) {
            const phrase = selectedScenario.phrases[currentPhrase];
            const isCompleted = completedPhrases.has(`${selectedScenario.id}-${currentPhrase}`);
            
            return (
              <div className="min-h-screen bg-gradient-to-br from-orange-50 via-yellow-50 to-red-50 p-6">
                <div className="max-w-3xl mx-auto">
                  <div className="flex items-center justify-between mb-6">
                    <button
                      onClick={() => setSelectedScenario(null)}
                      className="flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors px-4 py-2 rounded-lg bg-white shadow"
                    >
                      ‚Üê Back to scenarios
                    </button>
                    <div className="text-sm text-gray-600">
                      {currentPhrase + 1} / {selectedScenario.phrases.length}
                    </div>
                  </div>

                  <div className="text-center mb-8">
                    <h2 className="text-2xl font-bold text-gray-800 mb-2">{selectedScenario.title}</h2>
                    <div className="w-full bg-gray-200 rounded-full h-2">
                      <div 
                        className="bg-orange-500 h-2 rounded-full transition-all duration-500"
                        style={{ width: `${((currentPhrase + 1) / selectedScenario.phrases.length) * 100}%` }}
                      ></div>
                    </div>
                  </div>

                  <div className="bg-white rounded-2xl shadow-xl p-8 mb-6">
                    <div className="text-center mb-8">
                      <div className="text-4xl font-bold text-orange-600 mb-4">
                        {phrase.spanish}
                      </div>
                      <button
                        onClick={() => playAudio(phrase.spanish)}
                        className="flex items-center gap-2 mx-auto bg-orange-100 hover:bg-orange-200 text-orange-700 px-4 py-2 rounded-full transition-colors"
                      >
                        <span className="text-xl">üîä</span>
                        Listen
                      </button>
                    </div>

                    <div className="text-center mb-6">
                      <div className="text-lg text-gray-600 mb-2 font-mono bg-gray-50 rounded-lg p-3">
                        [{phrase.pronunciation}]
                      </div>
                      <p className="text-sm text-gray-500 italic">Pronunciation guide</p>
                    </div>

                    <div className="text-center mb-8">
                      <button
                        onClick={() => setShowTranslation(!showTranslation)}
                        className="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-full transition-colors mb-4"
                      >
                        {showTranslation ? 'Hide Translation' : 'Show Translation'}
                      </button>
                      {showTranslation && (
                        <div className="text-xl text-gray-700 font-medium bg-blue-50 rounded-lg p-4">
                          "{phrase.english}"
                        </div>
                      )}
                    </div>

                    {!isCompleted ? (
                      <div className="text-center">
                        <div className="bg-yellow-50 rounded-xl p-6 mb-6 border border-yellow-200">
                          <div className="text-4xl mb-3">üé§</div>
                          <p className="text-yellow-800 font-medium mb-2">Practice Time!</p>
                          <p className="text-yellow-700 text-sm">
                            Say this phrase out loud 3 times with confidence, then click "I practiced it!"
                          </p>
                        </div>
                        <button
                          onClick={handlePhraseComplete}
                          className="bg-green-500 hover:bg-green-600 text-white px-8 py-4 rounded-full text-lg font-semibold transition-all transform hover:scale-105 shadow-lg"
                        >
                          I practiced it! ‚ú®
                        </button>
                      </div>
                    ) : (
                      <div className="text-center">
                        <div className="bg-green-50 rounded-xl p-6 mb-4 border border-green-200">
                          <div className="text-4xl mb-2">üéâ</div>
                          <div className="text-2xl font-bold text-green-600 mb-2">
                            {encouragements[Math.floor(Math.random() * encouragements.length)]}
                          </div>
                          <p className="text-green-700">You've mastered this phrase!</p>
                        </div>
                        {currentPhrase < selectedScenario.phrases.length - 1 && (
                          <p className="text-gray-600">Moving to next phrase...</p>
                        )}
                        {currentPhrase === selectedScenario.phrases.length - 1 && (
                          <div className="bg-purple-50 rounded-xl p-6 border border-purple-200">
                            <div className="text-4xl mb-3">üèÜ</div>
                            <p className="text-purple-800 font-bold text-xl">¬°Scenario Completado!</p>
                            <button
                              onClick={() => setCurrentActivity('scenarios')}
                              className="mt-4 bg-purple-500 hover:bg-purple-600 text-white px-6 py-2 rounded-full transition-colors"
                            >
                              Try Another Scenario
                            </button>
                          </div>
                        )}
                      </div>
                    )}
                  </div>
                </div>
              </div>
            );
          }

          if (currentActivity === 'quiz') {
            return (
              <div className="min-h-screen bg-gradient-to-br from-orange-50 via-yellow-50 to-red-50 p-6">
                <div className="max-w-2xl mx-auto">
                  <div className="flex items-center justify-between mb-6">
                    <button
                      onClick={() => setCurrentActivity('home')}
                      className="flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors px-4 py-2 rounded-lg bg-white shadow"
                    >
                      ‚Üê Back to activities
                    </button>
                    <h2 className="text-2xl font-bold text-gray-800">Quick Quiz</h2>
                    <div></div>
                  </div>

                  <div className="bg-white rounded-2xl shadow-xl p-8">
                    <div className="text-center mb-8">
                      <div className="text-xl font-semibold text-gray-800 mb-6">
                        {currentQuiz.question}
                      </div>
                      
                      <div className="space-y-3">
                        {currentQuiz.options.map((option, index) => (
                          <button
                            key={index}
                            onClick={() => !showQuizResult && handleQuizAnswer(index)}
                            disabled={showQuizResult}
                            className={`w-full p-4 rounded-lg text-left transition-all ${
                              showQuizResult
                                ? index === currentQuiz.correct
                                  ? 'bg-green-100 border-2 border-green-400 text-green-800'
                                  : index === selectedAnswer && index !== currentQuiz.correct
                                  ? 'bg-red-100 border-2 border-red-400 text-red-800'
                                  : 'bg-gray-100 text-gray-600'
                                : selectedAnswer === index
                                ? 'bg-blue-100 border-2 border-blue-400'
                                : 'bg-gray-50 hover:bg-gray-100 border-2 border-transparent'
                            }`}
                          >
                            <div className="flex items-center justify-between">
                              <span className="font-medium">{option}</span>
                              {showQuizResult && index === currentQuiz.correct && <span className="text-xl">‚úÖ</span>}
                              {showQuizResult && index === selectedAnswer && index !== currentQuiz.correct && <span className="text-xl">‚ùå</span>}
                            </div>
                          </button>
                        ))}
                      </div>

                      {showQuizResult && (
                        <div cl
